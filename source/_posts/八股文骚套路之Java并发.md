---
title: 八股文骚套路之Java并发
abbrlink: b97f760e
date: 2024-10-21 10:43:41
tags:
---
## 什么是线程和进程

进程：是程序一次执行的过程，是系统运行程序的基本单位。系统一个程序的运行就是一个程序从创建、运行到消亡的过程

线程：在Java中，启动一个main函数就是启动了一个JVM进程，而main函数所在的线程就是这个进程中的一个线程，也称为主线程

> [!TIP]
> 用户线程和内核线程的区别和特点主要体现在：1.创建线程和切换线程的成本 2.能否利用多核

## 线程和进程的区别

1. 进程是独立的，但是线程之间则不一定，同意进程中的多个线程极有可能会相互影响（共享堆和方法区）。
2. 进程开销大，线程开销小，但是线程不利于资源的管理和保护

## 程序计数器的作用,为什么要私有？

1. 进行代码的流程控制
2. 记录当前线程执行的位置

所以计数器的私有化主要是为了保证线程切换后能恢复到正确的执行位置

## 虚拟机栈和本地方法栈为什么是私有的？

为了保证线程中的局部变量不被别的线程访问到

## 如何创建线程

严格来说 Java中只有 `new Thread.().start`能创建线程

## 线程的生命周期

- new 创建了还没start
- runnable 运行 被start等待运行的状态
- blocked 阻塞 等待释放
- waiting 等待，表示需要等待其他线程执行完一些特定动作
- time_waiting 超时等待 可以在等待一定时间之后自行返回
- terminated 线程终止

<!-- TODO: -->
