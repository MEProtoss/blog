--
title: 八股文骚套路之接口自动化测试
abbrlink: 829df0fe
date: 2024-05-28 16:42:41
tags
---

## URL(Uniform Resource Locator)

统一资源定位符的组成: 协议、域名或ip 、端口号(协议默认端口可省略 常用:80(http)、443(https)) 、 请求路径、参数

## HTTP协议

### HTTP请求

请求行 请求头 请求体

请求报文中可以没有请求体数据

### HTTP相应

状态行 响应头 响应体

状态行是响应数据的第一行，里面的状态码由三位数字组成，其中第一个数字定义响应类别：

- 2:成功
- 4:客户端错误
- 5.服务端错误

## 接口规范

## postman实现接口测试

拿到一个项目之后,我们是先测业务流程还是先测单模块?

- 先测试**业务流程**，确保核心功能正常
- 再测试单个模块

### 如何设计业务流程测试用例?

- 根据流程图、找出业务路径
- 根据业务路径分析对应的接口请求
- 根据业务路径分析对应的接口请求

### 多消息体数据类型

多用来上传文件

### 批量执行

通过运行测试集的方式批量运行测试用例。

如何针对单个接口设计测试用例?

- 正向:必填参数、全部参数
- 逆向:空、类型错误、长度错误、规则不符

### postman断言

作用:让Postman工具代替人工**自动判定**预期结果和实际结果是否一致

1. 响应状态码断言
1. 包含指定字符串断言
1. JSON数据断言

> [!TIP]
> 断言一般用于常量，例如`token`这种随着每次登录都会变化的值

### 参数化

场景:测试脚本中仅**测试数据**不一样,使用参数化提高脚本复用

步骤：

1. 测试数据保存在数据文件(JSON格式)
2. 引用数据文件使用脚本实现循环调用

```plaintext
1. 请求参数中获取
{{}}引用相关对象的key
eg:{{username}}
2. 代码中获取
Postman内置data对象引用key
eg. data.status
```

批量执行+测试数据文件

## 接口自动化测试

- 接口自动化:使用工具或代码代替人对接口进行测试的技术。
- 测试目的:防止开发修改代码时引入新的问题。

### 接口自动化测试框架

- 根据承担的职责存放对应的代码

- 使用allure生成在线测试报告

```plaintext
  allure serve report
```
